<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Crime Statistics</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@3.9.4/dist/full.css" rel="stylesheet" type="text/css" />
    <style>
        #result-panel {
            display: none;
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
        }

        #result-panel-seattle {
            display: none;
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body class="bg-gray-100 p-6">
    <div class="navbar bg-base-100 mb-5">
        <div class="flex-none">
            <div class="dropdown">
                <label tabindex="0" class="btn btn-ghost btn-circle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
                </label>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="index.html">Homepage</a></li>
                    <li><a href="crime_month.html">crime_month</a></li>
                    <li><a href="crime_weekday.html">crime_weekday</a></li>
                    <li><a href="crime_hour.html">crime_hour</a></li>
                    <li><a href="crime_type.html">crime_type</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>
        </div>
        <div class="flex-1">
            <a class="btn btn-ghost normal-case text-xl">Crime Statistics</a>
        </div>
        <div class="flex-none">
            <button class="btn btn-square btn-ghost">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path></svg>
            </button>
        </div>
    </div>

    <div class="mb-4">
        <h1 class="text-2xl font-bold mb-4">Select Offense Description</h1>
    
        <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="offense_description">
                New York Offense Description
            </label>
            <select id="offense_description" class="block w-full p-2 border border-gray-300 rounded mb-4">
                <option value="349">DISRUPTION OF A RELIGIOUS SERV</option>
                <option value="352">CRIMINAL TRESPASS</option>
                <option value="101">MURDER & NON-NEGL. MANSLAUGHTER</option>
                <option value="353">UNAUTHORIZED USE OF A VEHICLE</option>
                <option value="109">GRAND LARCENY</option>
                <option value="113">FORGERY</option>
                <option value="114">ARSON</option>
                <option value="105">ROBBERY</option>
                <option value="343">THEFT OF SERVICES</option>
                <option value="343">OTHER OFFENSES RELATED TO THEF</option>
                <option value="115">PROSTITUTION & RELATED OFFENSES</option>
                <option value="344">ASSAULT 3 & RELATED OFFENSES</option>
                <option value="231">BURGLAR'S TOOLS</option>
                <option value="347">INTOXICATED & IMPAIRED DRIVING</option>
                <option value="117">DANGEROUS DRUGS</option>
                <option value="341">PETIT LARCENY</option>
                <option value="106">FELONY ASSAULT</option>
                <option value="233">SEX CRIMES</option>
                <option value="455">UNLAWFUL POSS. WEAP. ON SCHOOL</option>
                <option value="104">RAPE</option>
                <option value="234">PROSTITUTION & RELATED OFFENSES</option>
                <option value="112">THEFT-FRAUD</option>
                <option value="107">BURGLARY</option>
                <option value="363">OFFENSES AGAINST PUBLIC SAFETY</option>
                <option value="578">HARRASSMENT 2</option>
                <option value="111">POSSESSION OF STOLEN PROPERTY</option>
                <option value="350">GAMBLING</option>
                <option value="110">GRAND LARCENY OF MOTOR VEHICLE</option>
                <option value="125">OTHER STATE LAWS (NON PENAL LA</option>
                <option value="125">NYS LAWS-UNCLASSIFIED FELONY</option>
                <option value="361">OFF. AGNST PUB ORD SENSBLTY &</option>
                <option value="103">HOMICIDE-NEGLIGENT,UNCLASSIFIE</option>
                <option value="351">CRIMINAL MISCHIEF & RELATED OF</option>
                <option value="365">ADMINISTRATIVE CODE</option>
            </select>
            <button id="get-count" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Get Crime Count</button>
            <div id="result-panel" class="mt-4 p-4 border border-gray-300 rounded bg-gray-50 hidden">
                <p id="result" class="text-gray-800">Crime Count: </p>
            </div>
        </div>
    
        <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="offense_description_seattle">
                Seattle Offense Description
            </label>
            <select id="offense_description_seattle" class="block w-full p-2 border border-gray-300 rounded mb-4">
                <option value="09A">Murder & Nonnegligent Manslaughter</option>
                <option value="09B">Negligent Manslaughter</option>
                <option value="09C">Justifiable Homicide</option>
                <option value="100">Kidnapping/Abduction</option>
                <option value="11A">Rape</option>
                <option value="11B">Sodomy</option>
                <option value="11C">Sexual Assault With An Object</option>
                <option value="11D">Fondling</option>
                <option value="120">Robbery</option>
                <option value="13A">Aggravated Assault</option>
                <option value="13B">Simple Assault</option>
                <option value="13C">Intimidation</option>
                <option value="200">Arson</option>
                <option value="210">Extortion/Blackmail</option>
                <option value="220">Burglary/Breaking & Entering</option>
                <option value="23A">Pocket-picking</option>
                <option value="23B">Purse-snatching</option>
                <option value="23C">Shoplifting</option>
                <option value="23D">Theft From Building</option>
                <option value="23E">Theft From Coin-Operated Machine or Device</option>
                <option value="23F">Theft From Motor Vehicle</option>
                <option value="23G">Theft of Motor Vehicle Parts or Accessories</option>
                <option value="23H">All Other Larceny</option>
                <option value="240">Motor Vehicle Theft</option>
                <option value="250">Counterfeiting/Forgery</option>
                <option value="26A">False Pretenses/Swindle/Confidence Game</option>
                <option value="26B">Credit Card/Automated Teller Machine Fraud</option>
                <option value="26C">Impersonation</option>
                <option value="26D">Welfare Fraud</option>
                <option value="26E">Wire Fraud</option>
                <option value="26F">Identity Theft</option>
                <option value="26G">Hacking/Computer Invasion</option>
                <option value="270">Embezzlement</option>
                <option value="280">Stolen Property Offenses</option>
                <option value="290">Destruction/Damage/Vandalism of Property</option>
                <option value="35A">Drug/Narcotic Violations</option>
                <option value="35B">Drug Equipment Violations</option>
                <option value="36A">Incest</option>
                <option value="36B">Statutory Rape</option>
                <option value="370">Pornography/Obscene Material</option>
                <option value="39A">Betting/Wagering</option>
                <option value="39B">Operating/Promoting/Assisting Gambling</option>
                <option value="40A">Prostitution</option>
                <option value="40B">Assisting or Promoting Prostitution</option>
                <option value="40C">Purchasing Prostitution</option>
                <option value="510">Bribery</option>
                <option value="520">Weapon Law Violations</option>
                <option value="64A">Human Trafficking, Commercial Sex Acts</option>
                <option value="64B">Human Trafficking, Involuntary Servitude</option>
                <option value="720">Animal Cruelty</option>
                <option value="90A">Bad Checks</option>
                <option value="90B">Curfew/Loitering/Vagrancy Violations</option>
                <option value="90D">Driving Under the Influence</option>
                <option value="90E">Drunkenness</option>
                <option value="90F">Family Offenses, Nonviolent</option>
                <option value="90G">Liquor Law Violations</option>
                <option value="90H">Peeping Tom</option>
                <option value="90J">Trespass of Real Property</option>
            </select>
            <button id="get-count-seattle" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Get Crime Count</button>
            <div id="result-panel-seattle" class="mt-4 p-4 border border-gray-300 rounded bg-gray-50 hidden">
                <p id="result-seattle" class="text-gray-800">Crime Count: </p>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            // Set up a click handler for the button
            $('#get-count').on('click', function() {
                var selectedTypeId = $('#offense_description').val();
                var selectedDescription = $('#offense_description option:selected').text();
                // Fetch crime count for the selected offense description
                $.getJSON(`http://ec2-3-129-63-152.us-east-2.compute.amazonaws.com:5000/get_crime_type_stat`, {offense_description: selectedDescription}, function(response) {
                    // Display the result in the panel
                    for (var data in response) {
                        if (response[data]['Crime_Type_ID'] == selectedTypeId) {
                            $('#result').text(`Crime Count for ${selectedDescription}: ${response[data].Crime_Count}`);
                            $('#result-panel').show();
                        }
                    }
                });
            });

            // Set up a click handler for the button
            $('#get-count-seattle').on('click', function() {
                var selectedTypeId = $('#offense_description_seattle').val();
                var selectedDescription = $('#offense_description_seattle option:selected').text();
                // Fetch crime count for the selected offense description
                $.getJSON(`http://ec2-3-129-63-152.us-east-2.compute.amazonaws.com:5000/get_crime_type_stat_seattle`, {offense_description: selectedDescription}, function(response) {
                    // Display the result in the panel
                    for (var data in response) {
                        if (response[data]['Crime_Type_ID'] == selectedTypeId) {
                            $('#result-seattle').text(`Crime Count for ${selectedDescription}: ${response[data].Crime_Count}`);
                            $('#result-panel-seattle').show();
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
